<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script type="text/javascript" src="../js/vue.js"></script>
  </head>
  <body>
    <div id="root">
      <div>当前的n值是:<span v-text="n"></span></div>
      <div>放大10倍的n值是:<span v-big-number="n"></span></div>
      <button @click="n++">点我n+1</button>
      <hr />
      <input type="text" v-fbind:value="n" />
    </div>

    <script type="text/javascript">
      Vue.config.productionTip = false;
      Vue.directive("fbind", {
        // 指令与元素成功绑定时（一上来)调用
        bind(element, binding) {
          element.value = binding.value;
        },
        // 指令所在元素被插入页面时调用
        inserted(element, binding) {
          element.focus();
        },
        // 指令所在模板被重新解析是调用
        update(element, binding) {
          element.value = binding.value;
        },
      });
      Vue.directive("big-number", function (element, binding) {
        element.innerText = binding.value * 10;
      });

      new Vue({
        el: "#root",
        data: {
          n: 1,
        },
        directives: {
          //   'big-number'(element, binding) {
          //     // element:是绑定的真实DOM元素，binding
          //     // binding：包含绑定的信息，包括绑定的n值
          //     element.innerText = binding.value * 10;
          //   },
          //   fbind(element,binding){
          //       element.value = binding.value
          //       element.focus()
          //   focus函数需要等element的值修改成功之后执行才奏效，所以这样写第一次是无法获取焦的
          //   }
          //   fbind: {
          //     // 指令与元素成功绑定时（一上来)调用
          //     bind(element,binding) {
          //         element.value = binding.value
          //     },
          //     // 指令所在元素被插入页面时调用
          //     inserted(element,binding) {
          //         element.focus()
          //     },
          //     // 指令所在模板被重新解析是调用
          //     update(element,binding){
          //         element.value = binding.value
          //     }
          //   },
        },
      });
    </script>
  </body>
</html>
