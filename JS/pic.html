<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style type="text/css">
    </style>
    <script>
        function myClick(idname,fun){
            var btn = document.getElementById(idname);
            btn.onclick = fun;
        }
        window.onload = function(){

            var items = document.getElementsByName("items");
            var checkedAllBox = document.getElementById("checkedAllBox");


            // checkedAllBtn
            myClick("checkedAllBtn",function(){
                // alert(items.length);
                for(var i = 0;i<items.length;i++){
                    // 多选框的checked属性控制是否选中
                    items[i].checked = true ;
                }
                checkedAllBox.checked = true;

            });

            // checkedNoBtn
            myClick("checkedNoBtn",function(){
                // alert(items.length);
                for(var i = 0;i<items.length;i++){
                    // 多选框的checked属性控制是否选中
                    items[i].checked = false ;
                }
                 checkedAllBox.checked = false;



            });

            // checkedRevBtn
            
             myClick("checkedRevBtn",function(){
                // alert(items.length);
                checkedAllBox.checked = true;
                for(var i = 0;i<items.length;i++){
                    // 多选框的checked属性控制是否选中
                    // if(items[i].checked)
                    //  items[i].checked = false ;
                    //  else
                    //  items[i].checked = true;
                     items[i].checked = ! items[i].checked;
                    //  和全选框关联
                     if(!items[i].checked){
                         checkedAllBox.checked = false;
                     }
                }

            });
            // sendBtn
            // 将选中的运动弹出
            myClick("sendBtn",function(){
                for(var i = 0; i<items.length;i++){
                    if(items[i].checked)
                    alert(items[i].value);
                }
            })
            // checkedAllBox
           checkedAllBox.onclick = function(){
            //    for(var i =0 ;i<items.length;i++){
            //        items[i].checked = checkedAllBox.checked;
            //    }


            // 在事件的响应函数中，响应函数是给谁绑定的this就是谁
            // alert(this === checkedAllBox);
               for(var i =0 ;i<items.length;i++){
                   items[i].checked = this.checked;
               }
            }

            // items
            /*
            如果四个多选框都被选中，checkedAllBox也应该被选中
            否则，checkedAllBox也应该不被选中
            */

        //    为四个多选框分别绑定相应函数
            for(var i =0;i<items.length;i++){
                items[i].onclick = function(){
                    // 一点击就首先设置为全选，然后在进行接下来的判断
                    checkedAllBox.checked = true;
                    for(var j =0; j < items.length;j++){
                        if(!items[j].checked){
                           checkedAllBox.checked = false; 
                           break;
                        }
                    }
                }

            }
        }


    </script>
</head>
<body>
<form method="post" action="">
  <p>
      你喜欢的运动是？
  </p>  
  <input type="checkbox" id="checkedAllBox">全选/全不选
  <br>
  <input type="checkbox" name = "items" value="足球">足球
  <input type="checkbox" name = "items" value="篮球">篮球
  <input type="checkbox" name = "items" value="羽毛球">羽毛球
  <input type="checkbox" name = "items" value="乒乓球">乒乓球
  <br><br>
  <input type="button" id="checkedAllBtn" value="全选">
  <input type="button" id="checkedNoBtn" value="全不选">
  <input type="button" id="checkedRevBtn" value="反选">
  <input type="button" id="sendBtn" value="提交">

</form>
   
</body>
</html>